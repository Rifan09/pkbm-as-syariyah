{% extends 'base.html' %}
{% block title %}Berita - PKBM{% endblock %}
{% load static %}

{% block content %}

<!-- Page Title -->
    <div class="page-title light-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">Berita</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="{% url 'home' %}">Home</a></li>
            <li class="current">Berita</li>
          </ol>
        </nav>
      </div>
    </div>
<!-- End Page Title -->

<section id="news-posts" class="news-posts section">
  <div class="container">
    <div class="row gy-4">
      {% for item in berita_page %}
      <div class="col-xl-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}00">
        <article>
          <div class="post-img">
            <img src="{{ item.gambar.url }}" alt="{{ item.judul }}" class="img-fluid">
          </div>
          <p class="post-category">{{ item.kategori }}</p>
          <h2 class="title"><a href="{% url 'berita_detail' item.slug %}">{{ item.judul }}</a></h2>
          <div class="d-flex align-items-center">
            <img src="{% static '#' %}" alt="" class="img-fluid post-author-img flex-shrink-0">
            <div class="post-meta">
              <p class="post-author">{{ item.penulis }}</p>
              <p class="post-date"><time datetime="{{ item.tanggal_publikasi }}">{{ item.tanggal_publikasi }}</time></p>
            </div>
          </div>
        </article>
      </div>
      {% empty %}
      <p class="text-center">Belum ada berita.</p>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Pagination -->
<div class="container mt-4">
  <nav class="d-flex justify-content-center" aria-label="Page navigation">
    <ul class="pagination">
      {% if berita_page.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ berita_page.previous_page_number }}">Previous</a></li>
      {% endif %}
      {% for num in berita_page.paginator.page_range %}
        {% if berita_page.number == num %}
          <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
        {% else %}
          <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
        {% endif %}
      {% endfor %}
      {% if berita_page.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ berita_page.next_page_number }}">Next</a></li>
      {% endif %}
    </ul>
  </nav>
</div>


{% endblock %}
